(this.webpackJsonpPaymentDTO=this.webpackJsonpPaymentDTO||[]).push([[0],{30:function(e,t,a){e.exports=a(59)},52:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(27),s=a.n(l),i=a(10),c=a(11),m=a(13),d=a(12),o=a(28),u=a.n(o).a.create({baseURL:"https://test-fe-e5dfa.firebaseio.com/"}),p=a(1),h=a(61),E=(a(52),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={creditCardNumber:"",creditCardNumberValid:!1,creditCardNumberErr:!1,cardHolder:"",cardHolderValid:!1,cardHolderErr:!1,expMonthDate:"",expMonthDateValid:!1,expYearDate:"",expYearDateValid:!1,expireDateValid:!1,expireDateValidErr:!1,securityCode:"",securityCodeValid:!0,securityCodeErr:!1,amount:"",amountValid:!1,amountErr:!1,loadingPayment:!1,paymentRefused:!1,paymentApproved:!1},e}return Object(c.a)(a,[{key:"handleCardNumber",value:function(e){var t=e.target.value,a=t.split("").every((function(e){return e.match(/[0-9]+/g)})),r=16===t.length,n=t.trim().length===t.length;a&&r&&n?this.setState({creditCardNumber:t,creditCardNumberValid:!0}):0===t.length?this.setState({creditCardNumber:"",creditCardNumberValid:!1}):this.setState({creditCardNumber:t,creditCardNumberValid:!1})}},{key:"handleCardName",value:function(e){var t=e.target.value,a=t.split("").every((function(e){return e.match(/[a-zA-Z ]+/g)})),r=t.split("").every((function(e){return e.match(/[ ]+/g)})),n=t.length>=4;a&&n&&!r?this.setState({cardHolder:t,cardHolderValid:!0}):0===t.length?this.setState({cardHolder:"",cardHolderValid:!1}):this.setState({cardHolder:t,cardHolderValid:!1})}},{key:"handleExpMonthDate",value:function(e){var t=e.target.value,a=t.split("").every((function(e){return e.match(/[0-9]+/g)})),r=2===t.length,n=t.trim().length===t.length;a&&r&&n?this.setState({expMonthDate:t,expMonthDateValid:!0}):0===t.length?this.setState({expMonthDate:"",expYearDate:"",expMonthDateValid:!1}):this.setState({expMonthDate:t,expMonthDateValid:!1})}},{key:"handleExpYearDate",value:function(e){var t=e.target.value,a=t.split("").every((function(e){return e.match(/[0-9]+/g)})),r=2===t.length,n=t.trim().length===t.length;a&&r&&n?this.setState({expYearDate:t,expYearDateValid:!0}):0===t.length?this.setState({expYearDate:"",expMonthDate:"",expYearDateValid:!1}):this.setState({expYearDate:t,expYearDateValid:!1})}},{key:"validateExpirationData",value:function(){if(this.state.expMonthDateValid&&this.state.expYearDateValid){var e=parseFloat(this.state.expMonthDate),t=parseFloat(this.state.expYearDate),a=new Date,r=a.getMonth()+1,n=a.getFullYear(),l=parseFloat(n.toString().substring(2,n.length)),s=((i=r)<10&&(i="0"+i),i);t===l&&s>=e?this.setState({expireDateValid:!1}):t>=20&&e>0&&e<=12?this.setState({expireDateValid:!0}):this.setState({expireDateValid:!1})}var i}},{key:"handleSecurityCode",value:function(e){var t=e.target.value,a=t.split("").every((function(e){return e.match(/[0-9]+/g)})),r=3===t.length,n=t.trim().length===t.length;a&&r&&n?this.setState({securityCode:t,securityCodeValid:!0,securityCodeErr:!1}):0===t.length?this.setState({securityCode:"",securityCodeValid:!0}):this.setState({securityCode:t,securityCodeValid:!1})}},{key:"handleAmount",value:function(e){var t=e.target.value,a=t.split("").every((function(e){return e.match(/[0-9]+/g)})),r=t.length>0,n=t.trim().length===t.length;a&&r&&n?this.setState({amount:t,amountValid:!0}):0===t.length?this.setState({amount:"",amountValid:!1}):this.setState({amount:t,amountValid:!1})}},{key:"validateInputsBtn",value:function(){var e=this;this.validateExpirationData(),this.setState({loadingPayment:!0}),setTimeout((function(){e.setState({loadingPayment:!1,creditCardNumberErr:!1,cardHolderErr:!1,expireDateValidErr:!1,securityCodeErr:!1,amountErr:!1}),e.state.creditCardNumberValid?e.state.cardHolderValid?e.state.expireDateValid?e.state.securityCodeValid?e.state.amountValid?e.processPayment():e.setState({amountErr:!0}):e.setState({securityCodeErr:!0}):e.setState({expireDateValidErr:!0}):e.setState({cardHolderErr:!0}):e.setState({creditCardNumberErr:!0})}),1200)}},{key:"processPayment",value:function(){var e=this,t={creditCardNumber:this.state.creditCardNumber,cardholder:this.state.cardHolder,expirationDate:this.state.expMonthDate+"/"+this.state.expYearDate,securityCode:this.state.securityCode,amount:this.state.amount};u.post("/paymentInfo.json",t).then((function(){var a=Object(h.a)();t.transNumber=a.substring(0,13),e.setState({paymentInfo:t}),setTimeout((function(){e.setState({paymentApproved:!0})}),1500)})).catch((function(t){console.log("Payment refused: "+t),e.setState({paymentRefused:!0})}))}},{key:"render",value:function(){var e=this;return this.state.paymentApproved&&this.state.paymentInfo?n.a.createElement(p.a,{to:{pathname:"/paymentapproved",data:this.state.paymentInfo}}):n.a.createElement("div",null,n.a.createElement("div",{className:"wrap_container"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"inputs_form"},this.state.loadingPayment&&n.a.createElement("div",{className:"inputs_form_loadingeff"},n.a.createElement("div",{className:"lds-roller"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))),n.a.createElement("ul",null,n.a.createElement("li",{className:"wr_top_txt"},"Payment details"),n.a.createElement("li",{className:"wr_top_acc_cardsimg"}),n.a.createElement("li",{className:"wrap_input_title"},"Card number *",n.a.createElement("span",{className:"wit_subtit"},"(16 digits)")),n.a.createElement("li",{className:"wrap_input_form"},n.a.createElement("input",{type:"text",maxLength:"16",onChange:function(t){return e.handleCardNumber(t)}})),this.state.creditCardNumberErr&&n.a.createElement("li",{className:"input_err_msg"},"Invalid card number"),n.a.createElement("li",{className:"wrap_input_title"},"Card holder *",n.a.createElement("span",{className:"wit_subtit"},"(John Smith)")),n.a.createElement("li",{className:"wrap_input_form"},n.a.createElement("input",{type:"text",onChange:function(t){return e.handleCardName(t)}})),this.state.cardHolderErr&&n.a.createElement("li",{className:"input_err_msg"},"Invalid card name"),n.a.createElement("li",{className:"wrap_input_title"},"Expiration date *",n.a.createElement("span",{className:"wit_subtit"},"(MM/YY)")),n.a.createElement("li",{className:"wrap_input_form_expdate"},n.a.createElement("span",{className:"winpt_expdyear_txt"},"Month:"),n.a.createElement("input",{type:"text",maxLength:"2",value:this.state.expMonthDate,className:"winp_expdate_month",onBlur:function(){return e.validateExpirationData()},onChange:function(t){return e.handleExpMonthDate(t)}}),n.a.createElement("span",{className:"wrap_expdate_inp"},n.a.createElement("span",{className:"winpt_expdyear_txt"},"Year:"),n.a.createElement("input",{type:"text",maxLength:"2",className:"winpt_expdate_year",value:this.state.expYearDate,onBlur:function(){return e.validateExpirationData()},onChange:function(t){return e.handleExpYearDate(t)}}))),this.state.expireDateValidErr&&n.a.createElement("li",{className:"input_err_msg"},"Invalid date format"),n.a.createElement("li",{className:"wrap_input_title"},"Security code",n.a.createElement("span",{className:"wit_subtit"},"(CVV)")),n.a.createElement("li",{className:"wrap_input_form"},n.a.createElement("input",{type:"text",maxLength:"3",onChange:function(t){return e.handleSecurityCode(t)}})),this.state.securityCodeErr&&n.a.createElement("li",{className:"input_err_msg"},"Invalid security code"),n.a.createElement("li",{className:"wrap_input_title"},"Amount *"),n.a.createElement("li",{className:"wrap_input_form"},n.a.createElement("input",{type:"text",maxLength:"50",onChange:function(t){return e.handleAmount(t)}})),this.state.amountErr&&n.a.createElement("li",{className:"input_err_msg"},"Invalid amount value"),n.a.createElement("li",{className:"validate_inputs_btn",onClick:function(){return e.validateInputsBtn()}},"Proceed"),this.state.paymentRefused&&n.a.createElement("li",{className:"input_err_msg"},"Something went wrong. Try again."))))))}}]),a}(n.a.Component)),y=a(9),v=(a(58),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={data:e.data},r}return Object(c.a)(a,[{key:"render",value:function(){if(void 0===this.props.location.data)return n.a.createElement(p.a,{to:"/"});var e=this.props.location.data;return n.a.createElement("div",null,n.a.createElement("div",{className:"wrap_container"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"wrap_payment_details"},n.a.createElement("div",{className:"paysc_succ_img"}),n.a.createElement("span",{className:"paysc_succ_txt"},"Payment successful!"),n.a.createElement("div",{className:"paysc_row"},n.a.createElement("span",{className:"paysc_title"},"Transaction id:"),n.a.createElement("span",{className:"paysc_value"},e.transNumber)),n.a.createElement("div",{className:"paysc_row"},n.a.createElement("span",{className:"paysc_title"},"Card number:"),n.a.createElement("span",{className:"paysc_value"},e.creditCardNumber)),n.a.createElement("div",{className:"paysc_row"},n.a.createElement("span",{className:"paysc_title"},"Card holder:"),n.a.createElement("span",{className:"paysc_value"},e.cardholder)),n.a.createElement("div",{className:"paysc_row"},n.a.createElement("span",{className:"paysc_title"},"Expiration date:"),n.a.createElement("span",{className:"paysc_value"},e.expirationDate)),n.a.createElement("div",{className:"paysc_row paysc_row_amo"},n.a.createElement("span",{className:"paysc_title"},"Amount:"),n.a.createElement("span",{className:"paysc_value"},"$",e.amount)),n.a.createElement(y.b,{to:"/",className:"paysc_back_btn"},"Go back")))))}}]),a}(n.a.Component)),_=n.a.createElement(y.a,{basename:"/"},n.a.createElement(p.d,null,n.a.createElement(p.b,{exact:!0,path:"/paymentDTO/",component:E}),n.a.createElement(p.b,{exact:!0,path:"/paymentapproved",component:v}),n.a.createElement(p.b,{path:"",component:E})));s.a.render(_,document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4be400d2.chunk.js.map